add startup error check protocal and confirmation
add battery integration
eventually migrate to new M4